# AI Agent å¼€å‘æ•™ç¨‹

[![Node.js](https://img.shields.io/badge/Node.js-18%2B-green.svg)](https://nodejs.org/)
[![License](https://img.shields.io/badge/License-MIT-blue.svg)](LICENSE)

æ¬¢è¿æ¥åˆ° AI Agent å¼€å‘æ•™ç¨‹ï¼æœ¬æ•™ç¨‹å°†å¸¦ä½ ä»é›¶å¼€å§‹ï¼Œä¸€æ­¥æ­¥æ„å»ºä¸€ä¸ªæœ€å°å¯è¿è¡Œçš„å‘½ä»¤è¡Œ AI æ™ºèƒ½ä½“ï¼ˆAgentï¼‰ï¼Œå¸®åŠ©ä½ ä»ä»£ç å±‚é¢ç†è§£AI Agentçš„é€»è¾‘ã€‚

ä½ å°†ä¸ä»…ä»…æ˜¯è°ƒç”¨ APIï¼Œè€Œæ˜¯æ·±å…¥ç†è§£ Agent çš„æ ¸å¿ƒæ¶æ„ï¼š**å¤§è„‘ï¼ˆLLMï¼‰ã€è®°å¿†ï¼ˆContextï¼‰ã€æ‰‹è„šï¼ˆToolsï¼‰å’ŒæŠ€èƒ½ï¼ˆSkillsï¼‰**ã€‚

## é¡¹ç›®ç®€ä»‹

è¿™æ˜¯ä¸€ä¸ª**å¯è¿è¡Œçš„ä»£ç åº“**ï¼Œæ•™ç¨‹ä¸­çš„æ¯ä¸ªé˜¶æ®µéƒ½å¯¹åº” Git å†å²ä¸­çš„å…³é”® Commitã€‚ä½ å¯ä»¥é€šè¿‡ `git checkout` åˆ‡æ¢åˆ°å¯¹åº”çŠ¶æ€ï¼Œäº²è‡ªä¿®æ”¹ä»£ç å¹¶è§‚å¯Ÿæ•ˆæœã€‚

**æœ€ç»ˆä½ å°†è·å¾—ï¼š**
- ä¸€ä¸ªèƒ½å¤Ÿæ‰§è¡Œ Shell å‘½ä»¤çš„ AI Agent
- æ”¯æŒå¤šæ¨¡å‹åˆ‡æ¢ï¼ˆGeminiã€DeepSeekã€æ™ºè°±ã€è…¾è®¯æ··å…ƒï¼‰
- å®Œæ•´çš„å·¥å…·ç³»ç»Ÿï¼ˆæ–‡ä»¶è¯»å†™ã€å‘½ä»¤æ‰§è¡Œç­‰ï¼‰
- MCP åè®®é›†æˆèƒ½åŠ›
- Sub-Agent åä½œæ¨¡å¼
- å¯æ‰©å±•çš„ Skill ç³»ç»Ÿ

## å¿«é€Ÿå¼€å§‹

```bash
# 1. å…‹éš†é¡¹ç›®
git clone <repository-url>
cd try_agent

# 2. å®‰è£…ä¾èµ–
npm install

# 3. é…ç½®ç¯å¢ƒå˜é‡ï¼ˆè‡³å°‘é…ç½®ä¸€ä¸ªæ¨¡å‹çš„ API Keyï¼‰
cp .env.example .env   # æˆ–æ‰‹åŠ¨åˆ›å»º .envï¼Œå¡«å…¥è‡³å°‘ä¸€ä¸ª API Key
# ä¾‹å¦‚: echo "GEMINI_API_KEY=your_api_key_here" > .env

# 4. è¿è¡Œ
npm start
```

è¯¦ç»†é…ç½®è¯·å‚è€ƒ [**ç¯å¢ƒé…ç½® (Setup)**](docs/SETUP.md)ã€‚

## å‰ç½®è¦æ±‚

- **Node.js**: v18 æˆ–æ›´é«˜ç‰ˆæœ¬
- **Git**: ç”¨äºç‰ˆæœ¬æ§åˆ¶
- **API Key**: è‡³å°‘ä¸€ä¸ªæ¨¡å‹ä¾›åº”å•†çš„ API Keyï¼ˆGemini / DeepSeek / æ™ºè°± / è…¾è®¯æ··å…ƒï¼‰

## æ•™ç¨‹ç›®å½•

å»ºè®®æŒ‰ä»¥ä¸‹é¡ºåºé˜…è¯»å’Œå®è·µï¼š

### ğŸ å‡†å¤‡å·¥ä½œ
*   [**ç¯å¢ƒé…ç½® (Setup)**](docs/SETUP.md) - å®‰è£…ä¾èµ–ï¼Œè·å– API Keyï¼Œè·‘é€š Hello Worldã€‚

### ğŸ“š æ ¸å¿ƒæ¦‚å¿µ
*   [**ç¬¬ 0 ç« ï¼šæ ¸å¿ƒæ¦‚å¿µ (Concepts)**](docs/00-concepts.md) - ä»€ä¹ˆæ˜¯ LLMã€Contextã€Agentã€MCPï¼Ÿè¿™é‡Œæœ‰æœ€é€šä¿—æ˜“æ‡‚çš„è§£é‡Šã€‚

### ğŸ› ï¸ å®æˆ˜å¼€å‘
*   [**ç¬¬ 1 é˜¶æ®µï¼šè®© AI å¼€å£è¯´è¯ (Hello AI)**](docs/01-hello-ai.md) - ç¬¬ä¸€æ¬¡è°ƒç”¨ LLM APIï¼Œä½“éªŒä¸åŒçš„ç³»ç»Ÿæç¤ºè¯ (Persona)ã€‚
*   [**ç¬¬ 1.5 é˜¶æ®µï¼šç»™ AI æ¢ä¸ª"å¤§è„‘" (Multi-Model)**](docs/01b-multi-model.md) - æ”¯æŒå¤šæ¨¡å‹åˆ‡æ¢ï¼Œä½“éªŒä¸åŒæ¨¡å‹çš„ç‰¹ç‚¹ã€‚
*   [**ç¬¬ 2 é˜¶æ®µï¼šè®© AI è®°ä½ä¸Šä¸‹æ–‡ (Memory)**](docs/02-memory.md) - è§£å†³ LLM "å¥å¿˜"çš„é—®é¢˜ï¼Œå®ç°å¤šè½®å¯¹è¯ã€‚
*   [**ç¬¬ 3 é˜¶æ®µï¼šç»™ AI ä¸€åŒæ‰‹ (Tools)**](docs/03-tools.md) - å®ç° Tool Callingï¼Œè®© AI èƒ½æ‰§è¡Œ Shell å‘½ä»¤ã€‚
*   [**ç¬¬ 4 é˜¶æ®µï¼šAgent Loop (ReAct)**](docs/04-agent-loop.md) - æ„å»º "æ€è€ƒ-è¡ŒåŠ¨-è§‚å¯Ÿ" å¾ªç¯ï¼Œè®© AI è‡ªä¸»å®Œæˆå¤šæ­¥ä»»åŠ¡ã€‚
*   [**ç¬¬ 4.5 é˜¶æ®µï¼šå·¥ç¨‹åŒ–å®Œå–„ (Refinement)**](docs/04b-refinement.md) - æ³¨å…¥é¡¹ç›®ä¸Šä¸‹æ–‡ã€ä¼˜åŒ–æ–‡ä»¶å·¥å…·ã€æå‡äº¤äº’ä½“éªŒã€‚

### ğŸš€ è¿›é˜¶æ¶æ„
*   [**ç¬¬ 5 é˜¶æ®µï¼šä¸Šä¸‹æ–‡ç®¡ç† (Context Management)**](docs/05-context-management.md) - æ‘˜è¦å‹ç¼©ã€å·¥å…·è¾“å‡ºæˆªæ–­ï¼Œè§£å†³ Token é™åˆ¶é—®é¢˜ã€‚
*   [**ç¬¬ 6 é˜¶æ®µï¼šMCP åè®® (Model Context Protocol)**](docs/06-mcp.md) - å­¦ä¹  AI æ—¶ä»£çš„ "USB æ ‡å‡†"ï¼Œè¿æ¥ä¸‡ç‰©ã€‚
*   [**ç¬¬ 7 é˜¶æ®µï¼šSub-Agent æ¨¡å¼ (å­æ™ºèƒ½ä½“)**](docs/07-sub-agent.md) - è®©å¤šä¸ª AI ä¸“å®¶åˆ†å·¥åä½œï¼Œè§£å†³å¤æ‚ä»»åŠ¡ã€‚
*   [**ç¬¬ 8 é˜¶æ®µï¼šAgent Skill (æŠ€èƒ½)**](docs/08-agent-skill.md) - å°è£…è‡ªåŠ¨åŒ–æµç¨‹ï¼Œè®© Agent æŒæ¡ "ä¸€é”®å¤§æ‹›"ã€‚

## å­¦ä¹ å»ºè®®

æœ¬é¡¹ç›®ä¸ä»…ä»…æ˜¯æ–‡æ¡£ï¼Œæ›´æ˜¯ä¸€ä¸ª**å¯è¿è¡Œçš„ä»£ç åº“**ã€‚
æ•™ç¨‹ä¸­çš„æ¯ä¸ªé˜¶æ®µéƒ½å¯¹åº” Git å†å²ä¸­çš„å…³é”® Commitã€‚ä½ å¯ä»¥é€šè¿‡ `git checkout` åˆ‡æ¢åˆ°å¯¹åº”çŠ¶æ€ï¼Œäº²è‡ªä¿®æ”¹ä»£ç å¹¶è§‚å¯Ÿæ•ˆæœã€‚

**æ¨èå­¦ä¹ è·¯å¾„ï¼š**
1. å…ˆé˜…è¯» [æ ¸å¿ƒæ¦‚å¿µ](docs/00-concepts.md) å»ºç«‹è®¤çŸ¥åŸºç¡€
2. æŒ‰é¡ºåºå®Œæˆå®æˆ˜å¼€å‘ç« èŠ‚ï¼Œæ¯ç« éƒ½æœ‰å¯¹åº”çš„ Git Branch
3. åŠ¨æ‰‹ä¿®æ”¹ä»£ç ï¼Œè§‚å¯Ÿå˜åŒ–
4. å°è¯•è¿›é˜¶æ¶æ„ï¼Œæ‰©å±• Agent èƒ½åŠ›

## é¡¹ç›®ç»“æ„

```
try_agent/
â”œâ”€â”€ docs/                       # æ–‡æ¡£
â”œâ”€â”€ src/                        # æºä»£ç 
â”‚   â”œâ”€â”€ index.ts                # å…¥å£æ–‡ä»¶
â”‚   â”œâ”€â”€ chat.ts                 # Agent æ ¸å¿ƒé€»è¾‘ï¼ˆReAct å¾ªç¯ï¼‰
â”‚   â”œâ”€â”€ mcp-client.ts           # MCP åè®®å®¢æˆ·ç«¯
â”‚   â”œâ”€â”€ project-context.ts      # é¡¹ç›®ä¸Šä¸‹æ–‡æ³¨å…¥
â”‚   â”œâ”€â”€ system-prompt.ts        # ç³»ç»Ÿæç¤ºè¯ç®¡ç†
â”‚   â”œâ”€â”€ tool-registry.ts        # å·¥å…·æ³¨å†Œä¸­å¿ƒ
â”‚   â”œâ”€â”€ context/                # ä¸Šä¸‹æ–‡ç®¡ç†
â”‚   â”‚   â””â”€â”€ chat-compress-service.ts # å¯¹è¯å†å²å‹ç¼©æœåŠ¡
â”‚   â”œâ”€â”€ model/                  # æ¨¡å‹å®¢æˆ·ç«¯
â”‚   â”‚   â”œâ”€â”€ client.ts           # æ¨¡å‹æ³¨å†Œä¸åˆ‡æ¢ï¼ˆå¤šæ¨¡å‹é€‚é…ï¼‰
â”‚   â”‚   â””â”€â”€ providers/          # æ¨¡å‹ä¾›åº”å•†å®ç°
â”‚   â”‚       â”œâ”€â”€ types.ts        # ä¾›åº”å•†æ¥å£å®šä¹‰
â”‚   â”‚       â”œâ”€â”€ gemini.ts       # Google Gemini
â”‚   â”‚       â”œâ”€â”€ deepseek.ts     # DeepSeek
â”‚   â”‚       â”œâ”€â”€ zhipu.ts        # æ™ºè°± AI
â”‚   â”‚       â”œâ”€â”€ tencent.ts      # è…¾è®¯æ··å…ƒ
â”‚   â”‚       â””â”€â”€ openai-compatible.ts # OpenAI å…¼å®¹æ¥å£
â”‚   â”œâ”€â”€ tools/                  # å·¥å…·å®ç°
â”‚   â”‚   â”œâ”€â”€ run-shell-command.ts # Shell å‘½ä»¤æ‰§è¡Œ
â”‚   â”‚   â”œâ”€â”€ read-file.ts        # æ–‡ä»¶è¯»å–
â”‚   â”‚   â”œâ”€â”€ write-file.ts       # æ–‡ä»¶å†™å…¥
â”‚   â”‚   â”œâ”€â”€ edit-file.ts        # æ–‡ä»¶ç¼–è¾‘
â”‚   â”‚   â”œâ”€â”€ read-folder.ts      # ç›®å½•è¯»å–
â”‚   â”‚   â”œâ”€â”€ sub-agent-tool.ts   # Sub-Agent è°ƒç”¨å·¥å…·
â”‚   â”‚   â””â”€â”€ skill-tool.ts       # Skill è°ƒç”¨å·¥å…·
â”‚   â”œâ”€â”€ subagents/              # å­æ™ºèƒ½ä½“ç³»ç»Ÿ
â”‚   â”‚   â”œâ”€â”€ sub-agent-types.ts  # Sub-Agent ç±»å‹å®šä¹‰
â”‚   â”‚   â”œâ”€â”€ sub-agent-registry.ts # Sub-Agent æ³¨å†Œä¸­å¿ƒ
â”‚   â”‚   â””â”€â”€ codebase-investigator.ts # ä»£ç åº“è°ƒæŸ¥å‘˜
â”‚   â”œâ”€â”€ skills/                 # æŠ€èƒ½ç³»ç»Ÿ
â”‚   â”‚   â”œâ”€â”€ skill-types.ts      # Skill ç±»å‹å®šä¹‰
â”‚   â”‚   â”œâ”€â”€ skill-registry.ts   # Skill æ³¨å†Œä¸­å¿ƒ
â”‚   â”‚   â””â”€â”€ skill-loader.ts     # Skill åŠ è½½å™¨
â”‚   â”œâ”€â”€ prompts/                # ç³»ç»Ÿæç¤ºè¯æ¨¡æ¿
â”‚   â”‚   â”œâ”€â”€ gemini-cli.md       # Gemini CLI é£æ ¼
â”‚   â”‚   â”œâ”€â”€ coding-mentor.md    # ç¼–ç¨‹å¯¼å¸ˆ
â”‚   â”‚   â”œâ”€â”€ strict-engineer.md  # ä¸¥æ ¼å·¥ç¨‹å¸ˆ
â”‚   â”‚   â”œâ”€â”€ personal-assistant.md # ä¸ªäººåŠ©æ‰‹
â”‚   â”‚   â”œâ”€â”€ sarcastic-friend.md # æ¯’èˆŒæœ‹å‹
â”‚   â”‚   â””â”€â”€ anime-girl.md       # äºŒæ¬¡å…ƒå°‘å¥³
â”‚   â””â”€â”€ utils/                  # å·¥å…·å‡½æ•°
â”‚       â””â”€â”€ frontmatter.ts      # Frontmatter è§£æ
â”œâ”€â”€ .agent/                     # Agent é…ç½®ï¼ˆæŠ€èƒ½å’Œä»£ç†ï¼‰
â”œâ”€â”€ .env                        # ç¯å¢ƒå˜é‡é…ç½®
â”œâ”€â”€ .mcp.json                   # MCP æœåŠ¡å™¨é…ç½®
â”œâ”€â”€ package.json                # é¡¹ç›®ä¾èµ–
â””â”€â”€ tsconfig.json               # TypeScript é…ç½®
```

## å¸¸ç”¨å‘½ä»¤

| å‘½ä»¤ | è¯´æ˜ |
|:-----|:-----|
| `npm start` | å¯åŠ¨ Agent |

## å¸¸è§é—®é¢˜

**Q: å¯åŠ¨åæ²¡æœ‰ååº”ï¼Ÿ**
A: æ£€æŸ¥ `.env` æ–‡ä»¶æ˜¯å¦æ­£ç¡®é…ç½®äº† API Keyã€‚

**Q: å¦‚ä½•åˆ‡æ¢æ¨¡å‹ï¼Ÿ**
A: è¿è¡Œæ—¶ä½¿ç”¨ `/use <model-name>` å‘½ä»¤ï¼ˆå¦‚ `/use deepseek-v3.2`ï¼‰ï¼Œæˆ–åœ¨ `.env` ä¸­è®¾ç½® `MODEL` ç¯å¢ƒå˜é‡ã€‚

**Q: Token è¶…é™æ€ä¹ˆåŠï¼Ÿ**
A: å‚è€ƒ [ä¸Šä¸‹æ–‡ç®¡ç†](docs/05-context-management.md) ç« èŠ‚ã€‚

## è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ [MIT](LICENSE) è®¸å¯è¯ã€‚

---

å¼€å§‹ä½ çš„ AI Agent ä¹‹æ—…å§ï¼ ğŸš€
